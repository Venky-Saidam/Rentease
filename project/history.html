<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rentease Web App</title>
   <link rel="stylesheet" href="history.css">

   <script type="module">

    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getStorage, ref, listAll, getDownloadURL } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js";
    
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyCDjtpSvfB3VatHxnyEc7YJFXO5OJvScUk",
      authDomain: "rentease-3f9ec.firebaseapp.com",
      databaseURL: "https://rentease-3f9ec-default-rtdb.firebaseio.com",
      projectId: "rentease-3f9ec",
      storageBucket: "rentease-3f9ec.appspot.com",
      messagingSenderId: "487513709327",
      appId: "1:487513709327:web:bbc656252097b09b213c7a"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const storage = getStorage();

    document.addEventListener('DOMContentLoaded', function () {
            // Fetch and display files when the page loads
            fetchAndDisplayFiles();
        });

        // Function to fetch and display files
        async function fetchAndDisplayFiles() {
            const storageRef = ref(storage);
            const filesList = await listAll(storageRef);

            // Display each file in the list
            for (const fileRef of filesList.items) {
                const downloadURL = await getDownloadURL(fileRef);
                displayFile(downloadURL);
            }
        } 

        // Function to display a file (you can customize this)
        function displayFile(downloadURL) {
            const fileContainer = document.getElementById('fileContainer');
            const fileLink = document.createElement('a');
            fileLink.href = downloadURL;
            fileLink.textContent = 'Download File';
            fileContainer.appendChild(fileLink); 
        }
        
    </script>
</head>
<body>

    <h1> History </h1>

    <div id="fileContainer">
       
    </div>
</body>
</html>
   
